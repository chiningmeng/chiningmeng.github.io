<html>
<head>
  <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<title>DOS下的DEBUG命令的详细用法 | whc</title>
<link rel="shortcut icon" href="https://chiningmeng.github.io/favicon.ico?v=1572758604327">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://chiningmeng.github.io/styles/main.css" type='text/css' media='all'>

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">



</head>
<body class="home blog ct-body standard">
<div id="overflow-container" class="overflow-container">
  <a class="skip-content" href="#main">Skip to content</a>
  <header id="site-header" class="site-header" role="banner">
    <div class='top-navigation top-navigation-important'>
        <div class='container'>
            <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
                <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fa fa-plus"></i></button>
                <div class="menu">
                    <ul id="menu-secondary-items" class="menu-secondary-items">
                        
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://chiningmeng.github.io/tag/mufo8pcjG">汇编</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://chiningmeng.github.io/tag/VSvUOiB_Y">python3</a>
                        </li>
                            
                        
                    </ul>
                </div>
            </div>
            <ul class="social-media-icons">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </div>
    </div>

    <div class="container">
        <div id="title-info" class="title-info">
            <div id='site-title' class='site-title'>
                <a href="https://chiningmeng.github.io">  whc </a>
            </div>
        </div>
        <button id="toggle-navigation" class="toggle-navigation">
            <i class="fa fa-bars"></i>
        </button>
        <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
        <div id="menu-primary" class="menu-container menu-primary" role="navigation">
            <p class="site-description">快进来！找个位子随便坐</p>
            <div class="menu">
                <ul id="menu-primary-items" class="menu-primary-items">
                     
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/">首页</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/archives">归档</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/tags">标签</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/post/about">关于</a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
    </div>


</header>


  <div id="main" class="main" role="main">
    <div id="loop-container" class="loop-container">
      <div class="post type-post status-publish format-standard has-post-thumbnail hentry category-design tag-design tag-standard-2 tag-tagalicious tag-travel entry full-without-featured odd excerpt-1">
        
          <div class='featured-image lazy lazy-bg-image' data-background="https://chiningmeng.github.io/post-images/dos-xia-de-debug-ming-ling-de-xiang-xi-yong-fa.png">
          </div>
        

        <div class="entry-meta">
          <span class="date">· 2019-10-31 ·</span> <span> / </span>
          <span class="author">
            <a href="https://chiningmeng.github.io" title="" rel="author"> Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></a>
          </span>
          
            <span class="category">
                    <span> / </span>
                    <a href="https://chiningmeng.github.io/tag/mufo8pcjG">汇编</a>
                </span>
          
        </div>
        <div class='entry-header'>
          <h1 class='entry-title'>DOS下的DEBUG命令的详细用法</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <h2 id="debug是为汇编语言设计的一种高度工具它通过单步-设置断点等方式为汇编语言程序员提供了非常有效的调试手段-一-debug程序的调用在dos的提示符下可键入命令cdebug-dpathfilenameextparm1parm2其中文件名是被调试文件的名字-如用户键入文件则debug将指定的文件装入存储器中用户可对其进行调试-如果未键入文件名则用户可以用当前存储器的内容工作或者用debug命令n和l把需要的文件装入存储器后再进行调试-命令中的d指定驱动器path为路径parm1和parm2则为运行被调试文件时所需要的命令参数-在debug程序调入后将出现提示符此时就可用debug命令来调试程序-二-debug的主要命令1-显示存储单元的命令ddump格式为_daddress或_drange例如按指定范围显示存储单元内容的方法为-d100-12018e40100-c7-06-04-02-38-01-c7-06-06-02-00-02-c7-06-08-02-g8gg18e0110-02-02-bb-04-02-e8-02-00-cd-20-50-51-56-57-8b-37-hm-pqvw718e40120-8b其中0100至0120是debug显示的单元内容左边用十六进制表示每个字节右边用ascii字符表示每个字节表示不可显示的字符-这里没有指定段地址d命令自动显示ds段的内容-如果只指定首地址则显示从首地址开始的80个字节的内容-如果完全没有指定地址则显示上一个d命令显示的最后一个单元后的内容-2-修改存储单元内容的命令有两种-输入命令eenter有两种格式如下第一种格式可以用给定的内容表来替代指定范围的存储单元内容-命令格式为-e-address-list例如-e-ds100-f3xyz8d其中f3xyz和各占一个字节该命令可以用这五个字节来替代存储单元ds0100到0104的原先的内容第二种格式则是采用逐个单元相继修改的方法-命令格式为-e-address例如-e-ds100则可能显示为18e40100-89-如果需要把该单元的内容修改为78则用户可以直接键入78再按空格键可接着显示下一个单元的内容如下18e40100-8978-1b-这样用户可以不断修改相继单元的内容直到用enter键结束该命令为止-填写命令ffill其格式为-f-range-list例如-f-4ba0100-5-f3xyz8d使04ba0100~0104单元包含指定的五个字节的内容-如果list中的字节数超过指定的范围则忽略超过的项如果list的字节数小于指定的范围则重复使用list填入直到填满指定的所有单元为止-3检查和修改寄存器内容的命令rregister它有三种格式如下显示cpu内所有寄存器内容和标志位状态其格式为-r例如-rax0000-bx0000-cx010a-dx0000-spfffe-bp0000-si0000-di0000ds18e4-es18e4-ss18e4-cs18e4-ip0100-nv-up-di-pl-nz-na-po-nc18e40100-c70604023801-mov-word-ptr-02040138-ds02040000显示和修改某个寄存器内容其格式为-r-register-name例如键入-r-ax系统将响应如下ax-f1f4即ax寄存器的当前内容为f1f4如不修改则按enter键否则可键入欲修改的内容如-r-bxbx-0369059f则把bx寄存器的内容修改为059f-显示和修改标志位状态命令格式为-rf系统将响应如ov-dn-ei-ng-zr-ac-pe-cy-此时如不修改其内容可按enter键否则可键入欲修改的内容如ov-dn-ei-ng-zr-ac-pe-cy-ponzdinv即可可见键入的顺序可以是任意的-4运行命令g其格式为-gaddress1address2address3其中地址1指定了运行的起始地址如不指定则从当前的csip开始运行-后面的地址均为断点地址当指令执行到断点时就停止执行并显示当前所有寄存器及标志位的内容和下一条将要执行的指令-5跟踪命令ttrace有两种格式逐条指令跟踪-t-address从指定地址起执行一条指令后停下来显示所有寄存器内容及标志位的值-如未指定地址则从当前的csip开始执行-多条指令跟踪-t-addressvalue从指定地址起执行n条指令后停下来n由value指定-6汇编命令aassemble其格式为-aaddress该命令允许键入汇编语言语句并能把它们汇编成机器代码相继地存放在从指定地址开始的存储区中-必须注意debug把键入的数字均看成十六进制数所以如要键入十进制数则其后应加以说明如100d-7反汇编命令uunassemble有两种格式-从指定地址开始反汇编32个字节其格式为-uaddress例如-u10018e40100-c70604023801-mov-word-ptr0204013818e40106-c70606020002-mov-word-ptr0206020018e4010c-c70606020202-mov-word-ptr0208020218e40112-bbo4o2-mov-bx020418e40115-e80200-call-011a18e40118-cd20-int-2018e4011a-50-push-ax18e4011b-51-push-cx18e4011c-56-push-si18e4011d-57-push-di18e4011e-8b37-mov-sibx如果地址被省略则从上一个u命令的最后一条指令的下一个单元开始显示32个字节-对指定范围内的存储单元进行反汇编格式为-urange例如-u100-10c18e40100-c70604023801-mov-word-ptr0204013818e40106-c70606020002-mov-word-ptr0206020018e4010c-c70606020202-mov-word-ptr02080202或-u100-11218e40100-c70604023801-mov-word-ptr0204013818e40106-c70606020002-mov-word-ptr0206020018e4010c-c70606020202-mov-word-ptr02080202可见这两种格式是等效的-8命名命令nname其格式为-n-filespecs-filespecs命令把两个文件标识符格式化在cs5ch和cs6ch的两个文件控制块中以便在其后用l或w命令把文件装入存盘-filespecs的格式可以是dpath-filenameext例如-n-myprog-l">DEBUG是为汇编语言设计的一种高度工具，它通过单步、设置断点等方式为汇编语言程序员提供了非常有效的调试手段。<br>
一、DEBUG程序的调用<br>
在DOS的提示符下，可键入命令：<br>
C:\DEBUG [D:][PATH][FILENAME[.EXT&gt;[PARM1][PARM2]<br>
其中，文件名是被调试文件的名字。如用户键入文件，则DEBUG将指定的文件装入存储器中，用户可对其进行调试。如果未键入文件名，则用户可以用当前存储器的内容工作，或者用DEBUG命令N和L把需要的文件装入存储器后再进行调试。命令中的D指定驱动器PATH为路径，PARM1和PARM2则为运行被调试文件时所需要的命令参数。<br>
在DEBUG程序调入后，将出现提示符，此时就可用DEBUG命令来调试程序。<br>
二、DEBUG的主要命令<br>
1、显示存储单元的命令D(DUMP)，格式为：<br>
_D[address]或_D[range]<br>
例如，按指定范围显示存储单元内容的方法为：<br>
-d100 120<br>
18E4:0100 c7 06 04 02 38 01 c7 06-06 02 00 02 c7 06 08 02 G...8.G.....G...<br>
18E$:0110 02 02 bb 04 02 e8 02 00-CD 20 50 51 56 57 8B 37 ..;..h..M PQVW.<br>
7<br>
18E4:0120 8B<br>
其中0100至0120是DEBUG显示的单元内容，左边用十六进制表示每个字节，右边用ASCII字符表示每个字节，·表示不可显示的字符。这里没有指定段地址，D命令自动显示DS段的内容。如果只指定首地址，则显示从首地址开始的80个字节的内容。如果完全没有指定地址，则显示上一个D命令显示的最后一个单元后的内容。<br>
2、修改存储单元内容的命令有两种。<br>
·输入命令E(ENTER)，有两种格式如下：第一种格式可以用给定的内容表来替代指定范围的存储单元内容。命令格式为：<br>
-E address [list]<br>
例如，-E DS:100 F3'XYZ'8D<br>
其中F3，'X'，'Y'，'Z'和各占一个字节，该命令可以用这五个字节来替代存储单元DS：0100到0104的原先的内容<br>
第二种格式则是采用逐个单元相继修改的方法。命令格式为：<br>
-E address<br>
例如，-E DS：100<br>
则可能显示为：<br>
18E4：0100 89.-<br>
如果需要把该单元的内容修改为78，则用户可以直接键入78，再按&quot;空格&quot;键可接着显示下一个单元的内容，如下：<br>
18E4：0100 89.78 1B.-<br>
这样，用户可以不断修改相继单元的内容，直到用ENTER键结束该命令为止。<br>
·填写命令F(FILL)，其格式为：<br>
-F range list<br>
例如：-F 4BA:0100 5 F3'XYZ'8D<br>
使04BA：0100~0104单元包含指定的五个字节的内容。如果list中的字节数超过指定的范围，则忽略超过的项；如果list的字节数小于指定的范围，则重复使用list填入，直到填满指定的所有单元为止。<br>
3)检查和修改寄存器内容的命令R(register)，它有三种格式如下：<br>
·显示CPU内所有寄存器内容和标志位状态，其格式为：<br>
-R<br>
例如，-r<br>
AX=0000 BX=0000 CX=010A DX=0000 SP=FFFE BP=0000 SI=0000 DI=0000<br>
DS=18E4 ES=18E4 SS=18E4 CS=18E4 IP=0100 NV UP DI PL NZ NA PO NC<br>
18E4:0100 C70604023801 MOV WORD PTR [0204],0138 DS:0204=0000<br>
·显示和修改某个寄存器内容，其格式为：<br>
-R register name<br>
例如，键入<br>
-R AX<br>
系统将响应如下：<br>
AX F1F4<br>
：<br>
即AX寄存器的当前内容为F1F4，如不修改则按ENTER键，否则，可键入欲修改的内容，如：<br>
-R bx<br>
BX 0369<br>
：059F<br>
则把BX寄存器的内容修改为059F。<br>
·显示和修改标志位状态，命令格式为：<br>
-RF系统将响应，如：<br>
OV DN EI NG ZR AC PE CY-<br>
此时，如不修改其内容可按ENTER键，否则，可键入欲修改的内容，如：<br>
OV DN EI NG ZR AC PE CY-PONZDINV<br>
即可，可见键入的顺序可以是任意的。<br>
4)运行命令G，其格式为：<br>
-G[=address1][address2[address3…&gt;<br>
其中，地址1指定了运行的起始地址，如不指定则从当前的CS：IP开始运行。后面的地址均为断点地址，当指令执行到断点时，就停止执行并显示当前所有寄存器及标志位的内容，和下一条将要执行的指令。<br>
5)跟踪命令T(Trace)，有两种格式：<br>
·逐条指令跟踪<br>
-T [=address]<br>
从指定地址起执行一条指令后停下来，显示所有寄存器内容及标志位的值。如未指定地址则从当前的CS：IP开始执行。<br>
·多条指令跟踪<br>
-T [=address][value]<br>
从指定地址起执行n条指令后停下来，n由value指定。<br>
6)汇编命令A(Assemble)，其格式为：<br>
-A[address]<br>
该命令允许键入汇编语言语句，并能把它们汇编成机器代码，相继地存放在从指定地址开始的存储区中。必须注意：DEBUG把键入的数字均看成十六进制数，所以如要键入十进制数，则其后应加以说明，如100D。<br>
7)反汇编命令U(Unassemble)有两种格式。<br>
·从指定地址开始，反汇编32个字节，其格式为：<br>
-U[address]<br>
例如：<br>
-u100<br>
18E4:0100 C70604023801 MOV WORD PTR[0204],0138<br>
18E4:0106 C70606020002 MOV WORD PTR[0206],0200<br>
18E4:010C C70606020202 MOV WORD PTR[0208],0202<br>
18E4:0112 BBO4O2 MOV BX,0204<br>
18E4:0115 E80200 CALL 011A<br>
18E4:0118 CD20 INT 20<br>
18E4:011A 50 PUSH AX<br>
18E4:011B 51 PUSH CX<br>
18E4:011C 56 PUSH SI<br>
18E4:011D 57 PUSH DI<br>
18E4:011E 8B37 MOV SI,[BX]<br>
如果地址被省略，则从上一个U命令的最后一条指令的下一个单元开始显示32个字节。<br>
·对指定范围内的存储单元进行反汇编，格式为：<br>
-U[range]<br>
例如：<br>
-u100 10c<br>
18E4:0100 C70604023801 MOV WORD PTR[0204],0138<br>
18E4:0106 C70606020002 MOV WORD PTR[0206],0200<br>
18E4:010C C70606020202 MOV WORD PTR[0208],0202<br>
或<br>
-u100 112<br>
18E4:0100 C70604023801 MOV WORD PTR[0204],0138<br>
18E4:0106 C70606020002 MOV WORD PTR[0206],0200<br>
18E4:010C C70606020202 MOV WORD PTR[0208],0202<br>
可见这两种格式是等效的。<br>
8)命名命令N(Name)，其格式为：<br>
-N filespecs [filespecs]<br>
命令把两个文件标识符格式化在CS：5CH和CS：6CH的两个文件控制块中，以便在其后用L或W命令把文件装入存盘。filespecs的格式可以是：<br>
[d:][path] filename[.ext]<br>
例如，<br>
-N myprog<br>
-L</h2>
<p>可把文件myprog装入存储器。<br>
9)装入命令(Load)，有两种功能。<br>
·把磁盘上指定扇区范围的内容装入到存储器从指定地址开始的区域中。其格式为：<br>
-L[address[drive sector sector]<br>
·装入指定文件，其格式为：<br>
-L[address]<br>
此命令装入已在CS：5CH中格式化了文件控制块所指定的文件。如未指定地址，则装入CS：0100开始的存储区中。<br>
10)写命令W(Write)，有两种功能。<br>
·把数据写入磁盘的指定扇区。其格式为：<br>
-W address drive sector sector<br>
·把数据写入指定的文件中。其格式为：<br>
-W[address]<br>
此命令把指定的存储区中的数据写入由CS：5CH处的文件控制块所指定的文件中。如未指定地址则数据从CS：0100开始。要写入文件的字节数应先放入BX和CX中。<br>
11)退出DEBUG命令Q(Quit)，其格式为：<br>
-Q<br>
它退出DEBUG，返回DOS。本命令并无存盘功能，如需存盘应先使用W命令。<br>
问题:初学者问一个低级问题,执行debug-a后,如果有一行输入错误,如何更改这一行?<br>
回答:<br>
加入进行如下输入：<br>
D:\PWIN95\Desktop&gt;debug<br>
-a<br>
2129:0100movax,200<br>
2129:0103movbx,200<br>
2129:0106movcx,200<br>
2129:0109<br>
此时，发现movbx,200一句错误，应为movbx,20，可以敲回车返回&quot;-&quot;状态，然后输入：<br>
-a103<br>
2129:0103movbx,20<br>
如果多或者少若干行，不必重新输入，可以用M命令移动后面的程序来去掉或者增加程序空间.</p>
<p>A.程序调用命令<br>
C&gt;DEBUG [D：] [PATH] [FILENAME[.EXT&gt; [PARM1] [PARM2]<br>
其中，文件名是被调试文件的名字。如未键入文件名。可用DEBUG命令N和L把需要文件装入存储器后再调试。D指定驱动器，PATH为路径，FILENAME为文件名，PARM为命令参数<br>
B.显示存储单元命令<br>
-D [ADDRESS]或 ；ADDRESS 地址<br>
-D [RANGE] ；RANGE 范围<br>
C.修改存储单元内容命令<br>
-E ADDRESS [LIST]<br>
D.检查和修改寄存器内容命令<br>
-R [REGISTER NAME] ；Register name 寄存器名字<br>
E.汇编命令<br>
-A [ADDRESS]<br>
F.跟踪命令<br>
-T [=ADDRESS] [VALUE] ；Value 变量值<br>
G.运行命令<br>
-G [=ADDRESS ] [ADDRESS2 [ADDRESS3]<br>
H.反汇编命令<br>
-U [ADDRESS]<br>
-U [RANGE]<br>
I.命名命令<br>
-N FILESPECS [FILESPECS]<br>
FILESPECS的格式可为[D:][PATH]FILENAME [.EXT]<br>
J.装入命令<br>
-L [ADDRESS[DRIVE SECTOR SECTOR&gt; ；DRIVE SECTOR 磁盘 扇区<br>
K.写命令<br>
W ADDRESS DRIVE SECTOR<br>
L.退出命令<br>
-Q</p>

            </article>
          </div>
          <div class='entry-meta-bottom'>
            <div class="entry-categories">
              <p>
                <span>Categories</span>
                
                  
                    
                  <a href="https://chiningmeng.github.io/tag/mufo8pcjG" title="View all posts in 汇编">汇编</a>
                    
                    
                    
                  <a href="https://chiningmeng.github.io/tag/VSvUOiB_Y" title="View all posts in python3">python3</a>
                    
                    
              </p>
            </div>
            <div class="entry-tags">
              <p><span>Tags</span>
              </p>
            </div>
          </div>
          <div class="author-meta">
            <div class="author">
              <img alt='' src="https://chiningmeng.github.io/images/avatar.png?v=1572758604327" class='avatar avatar-72 photo' height='72' width='72'>
              <span>WRITTEN BY: &nbsp;&nbsp;&nbsp;<a href='https://chiningmeng.github.io'></a> </span>
            </div>
            <div class="bio">
              <p></p>
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            </div>
          </div>
        </div>
          
      </div>
      <section id="comments" class="comments">
        
      </section>
    </div>
  </div>
  <footer id="site-footer" class="site-footer" role="contentinfo">
    <h1>
        <a href="https://chiningmeng.github.io"> whc </a>
    </h1>
    <p class="site-description">快进来！找个位子随便坐</p>
    <div id="menu-footer" class="menu-container menu-footer" role="navigation">
        <div class="menu">
            <ul id="menu-footer-items" class="menu-footer-items">
            </ul>
        </div>
    </div>
    <ul class="social-media-icons">
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </ul>
    <div class="design-credit">
        <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
    </div>
</footer>
<script>
    hljs.initHighlightingOnLoad()
</script>
<script src="https://chiningmeng.github.io/media/scripts/lib/jquery.min.js"></script>
<script src="https://chiningmeng.github.io/media/scripts/lib/jquerymigrate.js"></script>
<script src="https://chiningmeng.github.io/media/scripts/lib/production.min.js"></script>

</div>
</body>
</html>

